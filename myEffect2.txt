/*
	@Auther: Shakeem Brown / @ sheakeem.brown@gmail.com

	Tittle:  Lab2: Hello Shaders!

	Purpose: A Lab2 assignment experimenting with shadertoy's tools
			 to make cool effects with shaders such as: a gradian,
			 checkerboard pattern, complemtary color changing circle,
			 and a unique psychedelic effect.
*/

// Effect #2: The Changing colored cirle with a changing background
/*
	Inspired by the creater @ catafest : examples and circle tutorial
							https://www.shadertoy.com/view/XlSBz3
*/
vec4 myEffect2(in vec2 fragCoord, in vec2 resolution, in vec4 date, in float time)
{
    vec2 normUV = fragCoord/resolution.xy; // Normalizing pixel coordinates (from 0 to 1)
    float alpha = 1.0; // Defining the alpha
    vec2 uv = fragCoord.xy; // setting the pixel coordinates for the circle
 
    vec2 center = resolution.xy * 0.5; // defing the center of the circle
    float radius = 0.3 * resolution.y; // defing the radius of the circle
    float d = length(center - uv) - radius; // centering the circle
    float t = clamp(d, 0.4, 1.0); // keeps the shape of the circle
    
    // Defines the color changing according to the time and normalized coordinates
    vec3 color = 0.5 + 0.5 * cos(time + normUV.xyx + vec3(0.0, 2.0, 4.0));
    
    // creates a circle with the color changing properties
    vec3 circle = 0.25 * sin(1.0 * (t + date.w) + color);
   
    // changes the shade and light spectrum of the circle and background
    circle /= max(circle.x, max(circle.y, circle.z));
    
    return vec4(circle, alpha); // returns the color changing circle and background to main

}

// Calculates and pass the final display color of current pixel
void mainImage( out vec4 fragColor, in vec2 fragCoord)
{

    fragColor = myEffect2(fragCoord, iResolution.xy, iDate, iTime); // final color to be displayed
                                                                    // It is assigned by the effect function
}